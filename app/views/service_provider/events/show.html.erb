<div data-role="page">
  <div class="ui-grid-a ui-responsive">
    <div class="ui-block-a">
      <ul data-role="listview">
        <li data-role="list-divider"><%= @event.name %></li>
        <li><span></span><img id="service-provider-event-image" src="https://703776390ca6a57878ac07d8581c71c708895809.googledrive.com/host/0B-EZWDUirQ46fjQtUzN1VG80eWdzdERtYjMzcTg3S19VeGlWR3FfUGJpOEFEZmtVQmh4SFk/Assets/Events/event1.jpg" /></li>
        <li><b>Date and time:</b> <%= @event.start_date_and_time.in_time_zone(get_time_zone).strftime("%A, %B %d, %Y %l:%M %p") %></li>
        <li><b>Duration:</b> <%= @event.duration %> hours</li>
        <li><b>Location:</b> <%= @event.address %></li>
        <li><b>Type:</b> <%= @event.event_type %></li>
        <li>
          <p id="service-provider-event-description">
            <%= @event.description %>
          </p>
        </li>
      </ul>
    </div>
    <div class="ui-block-b" >
      <ul data-role="listview">
        <li data-role="list-divider">Attendees</li>
        <li>
          <table data-role="table" class="sp-event-attendance-breakpoint table-stroke">
            <thead>
              <tr>
                <th>Status</th>
                <th>Count</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Going</td>
                <td><%= @event.attendances.select { |a| a.commitment_status == "Yes" }.size %></td>
              </tr>
              <tr>
                <td>Watching</td>
                <td><%= @event.attendances.select { |a| a.commitment_status == "Maybe" }.size %></td>
              </tr>
              <tr>
                <td>Backed out</td>
                <td><%= @event.attendances.select { |a| a.commitment_status == "No" }.size %></td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>
          <table data-role="table" class="sp-event-attendance-breakpoint table-stroke">
            <thead>
              <tr>
                <th>Transportation</th>
                <th>Count</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>CTA</td>
                <td><%= @event.attendances.select { |a| a.method_of_transit == "transit" }.size %></td>
              </tr>
              <tr>
                <td>Walking</td>
                <td><%= @event.attendances.select { |a| a.method_of_transit == "walking" }.size %></td>
              </tr>
              <tr>
                <td>Biking</td>
                <td><%= @event.attendances.select { |a| a.method_of_transit == "bicycling" }.size %></td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>
          <table data-role="table" class="sp-event-attendance-breakpoint table-stroke">
            <thead>
              <tr>
                <th>Timing</th>
                <th>Count</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Early</td>
                <td><%= @event.attendances.select { |a| a.departure_type == "Early" }.size %></td>
              </tr>
              <tr>
                <td>On time</td>
                <td><%= @event.attendances.select { |a| a.departure_type == "On Time" }.size %></td>
              </tr>
              <tr>
                <td>Late</td>
                <td><%= @event.attendances.select { |a| a.departure_type == "Late" }.size %></td>
              </tr>
            </tbody>
          </table>
        </li>
      </ul>
    </div>
  </div>
</div>
